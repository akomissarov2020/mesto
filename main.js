(()=>{"use strict";class e{constructor(e,t,s,i,n,o,r){this._name=e.name,this._link=e.link,this._likes=e.likes.length,this._likesItems=e.likes,this._templateSelector=s,this._ownerId=t,this._cardOwnerId=e.owner._id,this._id=e._id,this._externalLikeHandler=n,this._externalDisikeHandler=o,this._handleCardClick=i,this._handleDeleteCard=r,this._openImageFunctionBunding=this._openImage.bind(this)}_deleteImage(e){this._handleDeleteCard(this._id,this)}deleteImage(){this._placeItem.remove(),this._placeItem=null}_toggleLike(e){e.target.classList.contains("elements__like_active")?this._externalDisikeHandler(this._id,this.setCardLikes.bind(this)):this._externalLikeHandler(this._id,this.setCardLikes.bind(this))}_openImage(e){this._handleCardClick(this._name,this._link)}_addEventListeners(){this._likeButton.addEventListener("click",this._toggleLike.bind(this)),this._placeItem.querySelector(".elements__trash-button").addEventListener("click",this._deleteImage.bind(this)),this._placeItem.querySelector(".elements__image").addEventListener("click",this._openImageFunctionBunding)}createPlace(){const e=document.querySelector(this._templateSelector).content;this._placeItem=e.querySelector(".elements__element").cloneNode(!0);const t=this._placeItem.querySelector(".elements__image"),s=this._placeItem.querySelector(".elements__text");return t.alt=this._name,t.src=this._link,s.textContent=this._name,this._likesElement=this._placeItem.querySelector(".elements__like-count"),this._likeButton=this._placeItem.querySelector(".elements__like"),this._removeButton=this._placeItem.querySelector(".elements__trash-button"),this.setCardLikes(this._likesItems),this._checkOwnLike(),this._checkMyCard(),this._addEventListeners(),this._placeItem}_checkOwnLike(){this._likesItems.some((e=>e._id===this._ownerId))?this._likeButton.classList.add("elements__like_active"):this._likeButton.classList.remove("elements__like_active")}setCardLikes(e){this._likesItems=e,this._likesElement.textContent=e.length,this._checkOwnLike()}_checkMyCard(){this._cardOwnerId!==this._ownerId&&this._hideRemoveButton()}_hideRemoveButton(){this._removeButton.classList.add("elements__trash-button_inactive")}}const t=document.querySelector(".profile__edit-button"),s=document.querySelector(".profile__add-button"),i=document.querySelector("[name='edit-profile-name']"),n=document.querySelector("[name='edit-profile-title']"),o=document.querySelector("[name='add-place']"),r=document.querySelector("[name='edit-profile']"),a=document.querySelector("[name='edit-avatar']"),h=document.querySelector(".profile__edit-avatar-button"),l={inputSelector:".form__field",submitButtonSelector:".form__save-button",inactiveButtonClass:"form__save-button_inactive",inputErrorClass:"form__field_invalid"};class _{constructor(e){this._popup=document.querySelector(e)}open(){this._popup.classList.remove("popup_hidden"),this._popup.classList.add("popup_opened"),this._setEventListeners()}_closeWithoutSubmit(e){if(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))return this.close(),!0}close(){this._popup.classList.remove("popup_opened"),this._removeEventListeners()}_handleEscClose(e){"Escape"===e.key&&this.close()}_setEventListeners(){this._onCloseBinding=this._closeWithoutSubmit.bind(this),this._onEscCloseBinding=this._handleEscClose.bind(this),this._popup.addEventListener("click",this._onCloseBinding),document.addEventListener("keydown",this._onEscCloseBinding)}_removeEventListeners(){this._popup.removeEventListener("click",this._onCloseBinding),document.removeEventListener("keydown",this._onEscCloseBinding)}}class c extends _{constructor(e,t,s){super(e),this._submitCallback=s,this._form=this._popup.querySelector(".form"),this._inputList=this._form.querySelectorAll(".form__field"),this._saveButton=this._form.querySelector(".form__save-button"),this._saveButtonDefaultText=this._saveButton.textContent,this._formValidator=t,this._formValidator.enableValidation()}open(){this._formValidator.toggleButtonState(),super.open()}_onSubmit(e){e.preventDefault(),this._setLoadingStatus("loading"),this._submitCallback(this._getInputValues()).then((e=>{this.close()})).catch((e=>{console.log(e),this._setLoadingStatus("error")})).finally((e=>{this._setLoadingStatus("default")}))}close(){this._form.reset(),this._formValidator.clearErrors(),this._setLoadingStatus("default"),super.close()}_setEventListeners(){this._onSubmitBinding=this._onSubmit.bind(this),this._form.addEventListener("submit",this._onSubmitBinding),super._setEventListeners()}_removeEventListeners(){this._form.removeEventListener("submit",this._onSubmitBinding),super._removeEventListeners()}_setLoadingStatus(e){this._saveButton.textContent="loading"===e?"Сохранение...":"default"===e?this._saveButtonDefaultText:"Ошибка"}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}}class u{constructor(e,t){this._formElement=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass}_showInputError(e,t){const s=this._formElement.querySelector(`.${e.name}-error`);e.classList.add(this._inputErrorClass),s.textContent=t}_hideInputError(e){const t=this._formElement.querySelector(`.${e.name}-error`);e.classList.remove(this._inputErrorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this.toggleButtonState(this._inputList,this._buttonElement),this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState(this._buttonElement)}))}))}clearErrors(){this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners()}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}}function d(t){return new e(t,k,"#place",E.open.bind(E),m,p,v).createPlace()}function m(e,t){g.putLike(e).then((e=>{t(e.likes)})).catch((e=>{console.log(e)}))}function p(e,t){g.deleteLike(e).then((e=>{t(e.likes)})).catch((e=>{console.log(e)}))}function f(e){return new Promise((function(t,s){g.deletePhoto(e).then((e=>{t(e)})).catch((e=>{s(e)}))}))}function v(e,t){I.open(e,t,f)}let k=null;const g=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers={authorization:e.headers.authorization,"Content-Type":e.headers["Content-Type"]}}getInitialCards(){return fetch(`${this._baseUrl}cards`,{method:"GET",headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}users/me`,{method:"GET",headers:this._headers}).then(this._checkResponse)}updateUserInfo(e){return fetch(`${this._baseUrl}users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.info})}).then(this._checkResponse)}insertNewCard(e){return fetch(`${this._baseUrl}cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}putLike(e){return fetch(`${this._baseUrl}cards/likes/${e}`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}deleteLike(e){return fetch(`${this._baseUrl}cards/likes/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateAvatar(e){return fetch(`${this._baseUrl}users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then(this._checkResponse)}deletePhoto(e){return fetch(`${this._baseUrl}cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26/",headers:{authorization:"05e586ce-c0c8-4f14-bbd3-b259a470e2b4","Content-Type":"application/json"}}),S=new class{constructor({items:e,renderer:t},s){this._renderedItems=e,this._renderer=t,this._container=document.querySelector(s)}renderItems(e){this._clear(),this._renderedItems=e,this._renderedItems.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}_clear(){this._container.innerHTML=""}}({items:[],renderer:e=>{S.addItem(e)}},".elements"),b=new Promise((function(e,t){g.getUserInfo().then((t=>{C.setUserInfo(t),k=t._id,e(t)})).catch((e=>{t(e)}))})),L=new Promise((function(e,t){g.getInitialCards().then((t=>{const s=[];t.forEach((e=>{const t=d(e);s.push(t)})),e(s)})).catch((e=>{t(e)}))}));Promise.all([b,L]).then((e=>{const t=e[1];S.renderItems(t)}));const E=new class extends _{constructor(e){super(e),this._popupTitle=this._popup.querySelector(".popup__image-text"),this._popupImage=this._popup.querySelector(".popup__image")}open(e,t){this._popupImage.src=t,this._popupImage.alt=e,this._popupTitle.textContent=e,super.open()}}(".popup_type_view"),I=new class extends _{constructor(e){super(e),this._form=this._popup.querySelector(".form"),this._deleteCardFunctionBunding=this._deleteCard.bind(this),this._saveButton=this._form.querySelector(".form__save-button"),this._saveButtonDefaultText=this._saveButton.textContent}open(e,t,s){super.open(),this._id=e,this._card=t,this._form.addEventListener("submit",this._deleteCardFunctionBunding),this._apiCallback=s}_deleteCard(e){e.preventDefault(),this._setLoadingStatus("loading"),this._apiCallback(this._id).then((e=>{this._card.deleteImage(),this.close()})).catch((e=>{console.log(e),this._setLoadingStatus("error")})).finally((e=>{this._setLoadingStatus("default")}))}_setLoadingStatus(e){this._saveButton.textContent="loading"===e?"Удаление...":"default"===e?this._saveButtonDefaultText:"Ошибка"}close(){super.close(),this._setLoadingStatus("default")}_closeWithoutSubmit(e){super._closeWithoutSubmit(e)&&this._form.removeEventListener("submit",this._deleteCardFunctionBunding)}}(".popup_type_with-confirm"),C=new class{constructor({nameSelector:e,infoSelector:t,avatarSelector:s}){this._name=document.querySelector(e),this._info=document.querySelector(t),this._avatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent.trim(),info:this._info.textContent.trim()}}setUserInfo({name:e,about:t,avatar:s}){this._name.textContent=e,this._info.textContent=t,this._avatar.src=s}}({nameSelector:".profile__name",infoSelector:".profile__title",avatarSelector:".profile__avatar"}),y=new c(".popup_type_edit-profile",new u(l,r),(function(e){return new Promise((function(t,s){const i=e["edit-profile-name"],n=e["edit-profile-title"];g.updateUserInfo({name:i,info:n}).then((e=>{C.setUserInfo(e),t(e)})).catch((e=>{s(e)}))}))}));t.addEventListener("click",(function(e){const{name:t,info:s}=C.getUserInfo();i.value=t,n.value=s,y.open()}));const B=new c(".popup_type_add-place",new u(l,o),(function(e){return t={name:e["add-place-name"],link:e["add-place-link"]},new Promise((function(e,s){g.insertNewCard(t).then((t=>{const s=d(t);S.prependItem(s),e(t)})).catch((e=>{s(e)}))}));var t}));s.addEventListener("click",(function(e){B.open()}));const w=new c(".popup_type_edit-avatar",new u(l,a),(function(e){return new Promise((function(t,s){const i=e["avatar-link"];g.updateAvatar({link:i}).then((e=>{C.setUserInfo(e),t(e)})).catch((e=>{s(e)}))}))}));h.addEventListener("click",(function(e){w.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiaXRlbSIsIm93bmVySWQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwibGlrZSIsImRpc2xpa2UiLCJoYW5kbGVEZWxldGVDYXJkIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwibGVuZ3RoIiwiX2xpa2VzSXRlbXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9vd25lcklkIiwiX2NhcmRPd25lcklkIiwib3duZXIiLCJfaWQiLCJfZXh0ZXJuYWxMaWtlSGFuZGxlciIsIl9leHRlcm5hbERpc2lrZUhhbmRsZXIiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfb3BlbkltYWdlRnVuY3Rpb25CdW5kaW5nIiwiX29wZW5JbWFnZSIsImJpbmQiLCJfZGVsZXRlSW1hZ2UiLCJldnQiLCJkZWxldGVJbWFnZSIsIl9wbGFjZUl0ZW0iLCJyZW1vdmUiLCJfdG9nZ2xlTGlrZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic2V0Q2FyZExpa2VzIiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZVBsYWNlIiwicGxhY2VUZW1wbGF0ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImltYWdlIiwidGV4dCIsImFsdCIsInNyYyIsInRleHRDb250ZW50IiwiX2xpa2VzRWxlbWVudCIsIl9yZW1vdmVCdXR0b24iLCJfY2hlY2tPd25MaWtlIiwiX2NoZWNrTXlDYXJkIiwic29tZSIsImFkZCIsIl9oaWRlUmVtb3ZlQnV0dG9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsIm5hbWVJbnB1dCIsInRpdGxlSW5wdXQiLCJhZGRQbGFjZUZvcm0iLCJlZGl0UHJvZmlsZUZvcm0iLCJlZGl0QXZhdGFyRm9ybSIsImF2YXRhckJ1dHRvbiIsImZvcm1TZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJvcGVuIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2Nsb3NlV2l0aG91dFN1Ym1pdCIsImNsb3NlIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJzIiwiX2hhbmRsZUVzY0Nsb3NlIiwia2V5IiwiX29uQ2xvc2VCaW5kaW5nIiwiX29uRXNjQ2xvc2VCaW5kaW5nIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtVmFsaWRhdG9yIiwic3VibWl0Q2FsbGJhY2siLCJzdXBlciIsIl9zdWJtaXRDYWxsYmFjayIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2F2ZUJ1dHRvbiIsIl9zYXZlQnV0dG9uRGVmYXVsdFRleHQiLCJfZm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9vblN1Ym1pdCIsInByZXZlbnREZWZhdWx0IiwiX3NldExvYWRpbmdTdGF0dXMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ0aGVuIiwicmVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsInJlc2V0IiwiY2xlYXJFcnJvcnMiLCJfb25TdWJtaXRCaW5kaW5nIiwic3RhdHVzIiwiX2Zvcm1WYWx1ZXMiLCJmb3JFYWNoIiwidmFsdWUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIkFycmF5IiwiZnJvbSIsIl9idXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiY3JlYXRlQ2FyZCIsImRhdGEiLCJwb3B1cEltYWdlVmlldyIsImxpa2VIYW5kbGVyIiwiZGlzbGlrZUhhbmRsZXIiLCJpZCIsInVwZGF0ZUxpa2VzQ2FsbGJhY2siLCJhcGkiLCJwdXRMaWtlIiwiZGVsZXRlTGlrZSIsImRlbGV0ZUNhcmQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRlbGV0ZVBob3RvIiwiY2FyZCIsInBvcHVwV2l0aENvbmZpcm0iLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwiX2NoZWNrUmVzcG9uc2UiLCJnZXRVc2VySW5mbyIsInVwZGF0ZVVzZXJJbmZvIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsImluZm8iLCJpbnNlcnROZXdDYXJkIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwib2siLCJqc29uIiwic2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwicmVuZGVyZWRJdGVtcyIsIl9jbGVhciIsImFkZEl0ZW0iLCJhcHBlbmQiLCJwcmVwZW5kSXRlbSIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJwbGFjZUl0ZW0iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiaW5pdGlhbENhcmRzIiwicHVzaCIsImFsbCIsIl9wb3B1cFRpdGxlIiwiX3BvcHVwSW1hZ2UiLCJfZGVsZXRlQ2FyZEZ1bmN0aW9uQnVuZGluZyIsIl9kZWxldGVDYXJkIiwiYXBpQ2FsbGJhY2siLCJfY2FyZCIsIl9hcGlDYWxsYmFjayIsIm5hbWVTZWxlY3RvciIsImluZm9TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX2luZm8iLCJfYXZhdGFyIiwidHJpbSIsInBvcHVwRWRpdFByb2ZpbGUiLCJwb3B1cEFkZFBsYWNlIiwicG9wdXBFZGl0QXZhdGFyIl0sIm1hcHBpbmdzIjoibUJBQWUsTUFBTUEsRUFDbkJDLFlBQVlDLEVBQU1DLEVBQVNDLEVBQWtCQyxFQUFpQkMsRUFBTUMsRUFBU0MsR0FDM0VDLEtBQUtDLE1BQVFSLEVBQUtTLEtBQ2xCRixLQUFLRyxNQUFRVixFQUFLVyxLQUNsQkosS0FBS0ssT0FBU1osRUFBS2EsTUFBTUMsT0FDekJQLEtBQUtRLFlBQWNmLEVBQUthLE1BQ3hCTixLQUFLUyxrQkFB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QW1CNEcsRUFDbkJ3QyxFQUFpQnZJLFVBMktuQixNQUNNd0ksRUFBZ0IsSUFBSTlILEVKM01JLHdCSTBNQSxJQUFJK0IsRUFBY2pELEVBQWNKLElBbkk5RCxTQUEyQjJFLEdBS3pCLE9BZWUxSSxFQW5CRixDQUNYLEtBQVEwSSxFSnpEZSxrQkkwRHZCLEtBQVFBLEVKekRlLG1CSTJFbEIsSUFBSVUsU0FBUSxTQUFTQyxFQUFTQyxHQUNuQ04sRUFBSTJCLGNBQWMzSyxHQUNqQnNHLE1BQUtvQyxJQUNKLE1BQU1xRCxFQUFZdEQsRUFBV0MsR0FDN0JzQyxFQUFRWSxZQUFZRyxHQUNwQjFDLEVBQVFYLE1BRVRsQyxPQUFPQyxJQUNONkMsRUFBTzdDLFNBVGIsSUFBaUJ6RyxLQWlIakI0RCxFQUFVcEIsaUJBQWlCLFNBdEszQixTQUFzQlgsR0FDcEJzTCxFQUFjeEksVUF1S2hCLE1BQ015SSxFQUFrQixJQUFJL0gsRUo3TUksMEJJNE1BLElBQUkrQixFQUFjakQsRUFBY0YsSUFySmhFLFNBQTBCeUUsR0FDeEIsT0FBTyxJQUFJVSxTQUFRLFNBQVNDLEVBQVNDLEdBQ25DLE1BQU0zSSxFQUFPK0gsRUp6Q1UsZUkwQ3ZCTSxFQUFJNEIsYUFBYSxDQUFDakssS0FBTUEsSUFDdkIyRixNQUFNQyxJQUNMeUYsRUFBU0MsWUFBWTFGLEdBQ3JCOEMsRUFBUTlDLE1BRVRDLE9BQU9DLElBQ042QyxFQUFPN0MsWUE4SWJ2QyxFQUFhMUIsaUJBQWlCLFNBOUs5QixTQUF3QlgsR0FDdEJ1TCxFQUFnQnpJLFciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGl0ZW0sIG93bmVySWQsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgbGlrZSwgZGlzbGlrZSwgaGFuZGxlRGVsZXRlQ2FyZCkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGl0ZW0ubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGl0ZW0ubGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fbGlrZXNJdGVtcyA9IGl0ZW0ubGlrZXM7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX293bmVySWQgPSBvd25lcklkO1xyXG4gICAgdGhpcy5fY2FyZE93bmVySWQgPSBpdGVtLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2lkID0gaXRlbS5faWQ7XHJcbiAgICAvLyBleHRlcm5hbCBtZXRob2RzXHJcbiAgICB0aGlzLl9leHRlcm5hbExpa2VIYW5kbGVyID0gbGlrZTtcclxuICAgIHRoaXMuX2V4dGVybmFsRGlzaWtlSGFuZGxlciA9IGRpc2xpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIHRoaXMuX29wZW5JbWFnZUZ1bmN0aW9uQnVuZGluZyA9IHRoaXMuX29wZW5JbWFnZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2RlbGV0ZUltYWdlKGV2dCkge1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9pZCwgdGhpcyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVJbWFnZSgpIHtcclxuICAgIHRoaXMuX3BsYWNlSXRlbS5yZW1vdmUoKTtcclxuICAgIHRoaXMuX3BsYWNlSXRlbSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlTGlrZShldnQpIHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudHNfX2xpa2VfYWN0aXZlJykpIHtcclxuICAgICAgdGhpcy5fZXh0ZXJuYWxEaXNpa2VIYW5kbGVyKHRoaXMuX2lkLCB0aGlzLnNldENhcmRMaWtlcy5iaW5kKHRoaXMpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2V4dGVybmFsTGlrZUhhbmRsZXIodGhpcy5faWQsIHRoaXMuc2V0Q2FyZExpa2VzLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9vcGVuSW1hZ2UoZXZ0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgfVxyXG5cclxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl90b2dnbGVMaWtlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5fcGxhY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RyYXNoLWJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fZGVsZXRlSW1hZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLl9wbGFjZUl0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX29wZW5JbWFnZUZ1bmN0aW9uQnVuZGluZyk7XHJcbiAgfTtcclxuXHJcbiAgY3JlYXRlUGxhY2UoKSB7XHJcbiAgICBjb25zdCBwbGFjZVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50O1xyXG4gICAgdGhpcy5fcGxhY2VJdGVtID0gcGxhY2VUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19lbGVtZW50XCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGltYWdlID0gdGhpcy5fcGxhY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlXCIpO1xyXG4gICAgY29uc3QgdGV4dCA9IHRoaXMuX3BsYWNlSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX190ZXh0XCIpO1xyXG4gICAgaW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIGltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0ZXh0LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpa2VzRWxlbWVudCA9IHRoaXMuX3BsYWNlSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWNvdW50XCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX3BsYWNlSXRlbS5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UnKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX3BsYWNlSXRlbS5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX3RyYXNoLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5zZXRDYXJkTGlrZXModGhpcy5fbGlrZXNJdGVtcyk7XHJcbiAgICB0aGlzLl9jaGVja093bkxpa2UoKTtcclxuICAgIHRoaXMuX2NoZWNrTXlDYXJkKCk7XHJcbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3BsYWNlSXRlbTtcclxuICB9O1xyXG5cclxuICBfY2hlY2tPd25MaWtlKCkge1xyXG4gICAgY29uc3QgZm91bmQgPSB0aGlzLl9saWtlc0l0ZW1zLnNvbWUobGlrZSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fb3duZXJJZCk7XHJcbiAgICBmb3VuZCA/IHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX2xpa2VfYWN0aXZlJykgOiB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRzX19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcblxyXG4gIHNldENhcmRMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXNJdGVtcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5fbGlrZXNFbGVtZW50LnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fY2hlY2tPd25MaWtlKCk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tNeUNhcmQoKSB7XHJcbiAgICBpZiAodGhpcy5fY2FyZE93bmVySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5faGlkZVJlbW92ZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hpZGVSZW1vdmVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX3RyYXNoLWJ1dHRvbl9pbmFjdGl2ZScpO1xyXG4gIH1cclxufSIsImNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lU2VsZWN0b3IgPSBcIi5wcm9maWxlX19uYW1lXCI7XHJcbmNvbnN0IHByb2ZpbGVUaXRsZVNlbGVjdG9yID0gXCIucHJvZmlsZV9fdGl0bGVcIjtcclxuY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gXCIucHJvZmlsZV9fYXZhdGFyXCI7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiO1xyXG5jb25zdCBwb3B1cEFkZFBsYWNlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2FkZC1wbGFjZVwiO1xyXG5jb25zdCBwb3B1cEltYWdlVmlld1NlbGVjdG9yID0gXCIucG9wdXBfdHlwZV92aWV3XCI7XHJcbmNvbnN0IHBvcHVwRWRpdEF2YXRhclNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9lZGl0LWF2YXRhclwiO1xyXG5jb25zdCBQb3B1cFdpdGhDb25maXJtU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX3dpdGgtY29uZmlybVwiO1xyXG5cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSdlZGl0LXByb2ZpbGUtbmFtZSddXCIpO1xyXG5jb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSdlZGl0LXByb2ZpbGUtdGl0bGUnXVwiKTtcclxuXHJcblxyXG5jb25zdCBhZGRQbGFjZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2FkZC1wbGFjZSddXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2VkaXQtcHJvZmlsZSddXCIpO1xyXG5jb25zdCBlZGl0QXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nZWRpdC1hdmF0YXInXVwiKTtcclxuXHJcbmNvbnN0IGVsZW1lbnRzU2VsZWN0b3IgPSBcIi5lbGVtZW50c1wiO1xyXG5jb25zdCBuYW1lRmllbGROYW1lID0gXCJlZGl0LXByb2ZpbGUtbmFtZVwiO1xyXG5jb25zdCB0aXRsZUZpZWxkTmFtZSA9IFwiZWRpdC1wcm9maWxlLXRpdGxlXCI7XHJcbmNvbnN0IHBsYWNlTmFtZUZpZWxkTmFtZSA9IFwiYWRkLXBsYWNlLW5hbWVcIjtcclxuY29uc3QgcGxhY2VMaW5rRmllbGROYW1lID0gXCJhZGQtcGxhY2UtbGlua1wiO1xyXG5jb25zdCBhdmF0YXJVcmxGaWVsZE5hbWUgPSBcImF2YXRhci1saW5rXCI7XHJcblxyXG5jb25zdCBwbGFjZVRlbXBsYXRlU2VsZWN0b3IgPSBcIiNwbGFjZVwiO1xyXG5cclxuY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWF2YXRhci1idXR0b25cIik7XHJcblxyXG5jb25zdCBmb3JtU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19maWVsZCcsXHJcbiAgICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc2F2ZS1idXR0b24nLFxyXG4gICAgICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdmb3JtX19zYXZlLWJ1dHRvbl9pbmFjdGl2ZScsXHJcbiAgICAgICAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9fZmllbGRfaW52YWxpZCdcclxuICAgICAgfTtcclxuXHJcbmV4cG9ydCB7ZWRpdEJ1dHRvbiwgXHJcbiAgICAgICAgYWRkQnV0dG9uLFxyXG4gICAgICAgIHBsYWNlVGVtcGxhdGVTZWxlY3RvcixcclxuICAgICAgICBuYW1lRmllbGROYW1lLFxyXG4gICAgICAgIHRpdGxlRmllbGROYW1lLFxyXG4gICAgICAgIHBsYWNlTmFtZUZpZWxkTmFtZSxcclxuICAgICAgICBwbGFjZUxpbmtGaWVsZE5hbWUsXHJcbiAgICAgICAgYXZhdGFyVXJsRmllbGROYW1lLFxyXG4gICAgICAgIHByb2ZpbGVOYW1lU2VsZWN0b3IsXHJcbiAgICAgICAgcHJvZmlsZVRpdGxlU2VsZWN0b3IsXHJcbiAgICAgICAgcHJvZmlsZUF2YXRhclNlbGVjdG9yLFxyXG4gICAgICAgIGF2YXRhckJ1dHRvbixcclxuICAgICAgICBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IsXHJcbiAgICAgICAgcG9wdXBBZGRQbGFjZVNlbGVjdG9yLFxyXG4gICAgICAgIHBvcHVwSW1hZ2VWaWV3U2VsZWN0b3IsXHJcbiAgICAgICAgcG9wdXBFZGl0QXZhdGFyU2VsZWN0b3IsXHJcbiAgICAgICAgUG9wdXBXaXRoQ29uZmlybVNlbGVjdG9yLFxyXG4gICAgICAgIGFkZFBsYWNlRm9ybSxcclxuICAgICAgICBlZGl0UHJvZmlsZUZvcm0sXHJcbiAgICAgICAgZWRpdEF2YXRhckZvcm0sXHJcbiAgICAgICAgZWxlbWVudHNTZWxlY3RvcixcclxuICAgICAgICBuYW1lSW5wdXQsXHJcbiAgICAgICAgdGl0bGVJbnB1dCxcclxuICAgICAgICBmb3JtU2V0dGluZ3N9OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuXHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9oaWRkZW5cIik7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZVdpdGhvdXRTdWJtaXQoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSB8fCBcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2UtYnV0dG9uXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX29uQ2xvc2VCaW5kaW5nID0gdGhpcy5fY2xvc2VXaXRob3V0U3VibWl0LmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9vbkVzY0Nsb3NlQmluZGluZyA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xvc2VCaW5kaW5nKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbkVzY0Nsb3NlQmluZGluZyk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xvc2VCaW5kaW5nKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbkVzY0Nsb3NlQmluZGluZyk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtVmFsaWRhdG9yLCBzdWJtaXRDYWxsYmFjaykge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fZmllbGRcIik7XHJcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbkRlZmF1bHRUZXh0ID0gdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3IgPSBmb3JtVmFsaWRhdG9yO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgX29uU3VibWl0KGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9zZXRMb2FkaW5nU3RhdHVzKFwibG9hZGluZ1wiKTtcclxuICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIHRoaXMuX3NldExvYWRpbmdTdGF0dXMoXCJlcnJvclwiKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseShyZXMgPT4ge1xyXG4gICAgICB0aGlzLl9zZXRMb2FkaW5nU3RhdHVzKFwiZGVmYXVsdFwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLl9mb3JtVmFsaWRhdG9yLmNsZWFyRXJyb3JzKCk7XHJcbiAgICB0aGlzLl9zZXRMb2FkaW5nU3RhdHVzKFwiZGVmYXVsdFwiKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9vblN1Ym1pdEJpbmRpbmcgPSB0aGlzLl9vblN1Ym1pdC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX29uU3VibWl0QmluZGluZyk7XHJcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9vblN1Ym1pdEJpbmRpbmcpO1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0TG9hZGluZ1N0YXR1cyhzdGF0dXMpIHtcclxuICAgIGlmIChzdGF0dXMgPT09IFwibG9hZGluZ1wiKSB7XHJcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3NhdmVCdXR0b25EZWZhdWx0VGV4dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcItCe0YjQuNCx0LrQsFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cclxuICBjb25zdHJ1Y3Rvcihmb3JtU2V0dGluZ3MsIGZvcm0pIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybTtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBmb3JtU2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZm9ybVNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGZvcm1TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZm9ybVNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50Lm5hbWV9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50Lm5hbWV9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QsIHRoaXMuX2J1dHRvbkVsZW1lbnQpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBldnQgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5fYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbGVhckVycm9ycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKGlucHV0RWxlbWVudCA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRzLmpzXCI7XHJcbmltcG9ydCB7ZWRpdEJ1dHRvbiwgXHJcbiAgICAgIGFkZEJ1dHRvbixcclxuICAgICAgcGxhY2VUZW1wbGF0ZVNlbGVjdG9yLFxyXG4gICAgICBuYW1lRmllbGROYW1lLFxyXG4gICAgICB0aXRsZUZpZWxkTmFtZSxcclxuICAgICAgcGxhY2VOYW1lRmllbGROYW1lLFxyXG4gICAgICBwbGFjZUxpbmtGaWVsZE5hbWUsXHJcbiAgICAgIGF2YXRhclVybEZpZWxkTmFtZSxcclxuICAgICAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICAgICAgcHJvZmlsZVRpdGxlU2VsZWN0b3IsXHJcbiAgICAgIHByb2ZpbGVBdmF0YXJTZWxlY3RvcixcclxuICAgICAgYXZhdGFyQnV0dG9uLFxyXG4gICAgICBwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IsXHJcbiAgICAgIHBvcHVwQWRkUGxhY2VTZWxlY3RvcixcclxuICAgICAgcG9wdXBJbWFnZVZpZXdTZWxlY3RvcixcclxuICAgICAgcG9wdXBFZGl0QXZhdGFyU2VsZWN0b3IsXHJcbiAgICAgIFBvcHVwV2l0aENvbmZpcm1TZWxlY3RvcixcclxuICAgICAgZm9ybVNldHRpbmdzLFxyXG4gICAgICBhZGRQbGFjZUZvcm0sXHJcbiAgICAgIGVkaXRBdmF0YXJGb3JtLFxyXG4gICAgICBlZGl0UHJvZmlsZUZvcm0sXHJcbiAgICAgIGVsZW1lbnRzU2VsZWN0b3IsXHJcbiAgICAgIG5hbWVJbnB1dCxcclxuICAgICAgdGl0bGVJbnB1dH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmZ1bmN0aW9uIG9wZW5FZGl0UHJvZmlsZShldnQpIHtcclxuICBjb25zdCB7bmFtZSwgaW5mb30gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgdGl0bGVJbnB1dC52YWx1ZSA9IGluZm87XHJcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5FZGl0QXZhdGFyKGV2dCkge1xyXG4gIHBvcHVwRWRpdEF2YXRhci5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5BZGRQbGFjZShldnQpIHtcclxuICBwb3B1cEFkZFBsYWNlLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VibWl0UHJvZmlsZUVkaXQoZGF0YSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIGNvbnN0IG5hbWUgPSBkYXRhW25hbWVGaWVsZE5hbWVdO1xyXG4gICAgY29uc3QgaW5mbyA9IGRhdGFbdGl0bGVGaWVsZE5hbWVdOyBcclxuICAgIGFwaS51cGRhdGVVc2VySW5mbyh7bmFtZTogbmFtZSwgaW5mbzogaW5mb30pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHJlc29sdmUocmVzKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZWplY3QoZXJyKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRBdmF0YXIoZGF0YSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgIGNvbnN0IGxpbmsgPSBkYXRhW2F2YXRhclVybEZpZWxkTmFtZV07XHJcbiAgICBhcGkudXBkYXRlQXZhdGFyKHtsaW5rOiBsaW5rfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgcmVzb2x2ZShyZXMpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIHJlamVjdChlcnIpXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VibWl0UGxhY2VBZGRpbmcoZGF0YSkge1xyXG4gIGNvbnN0IGl0ZW0gPSB7XHJcbiAgICAnbmFtZSc6IGRhdGFbcGxhY2VOYW1lRmllbGROYW1lXSxcclxuICAgICdsaW5rJzogZGF0YVtwbGFjZUxpbmtGaWVsZE5hbWVdXHJcbiAgfTtcclxuICByZXR1cm4gYWRkQ2FyZChpdGVtKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsIFxyXG4gICAgb3duZXJJZCwgXHJcbiAgICBwbGFjZVRlbXBsYXRlU2VsZWN0b3IsIFxyXG4gICAgcG9wdXBJbWFnZVZpZXcub3Blbi5iaW5kKHBvcHVwSW1hZ2VWaWV3KSxcclxuICAgIGxpa2VIYW5kbGVyLCBcclxuICAgIGRpc2xpa2VIYW5kbGVyLCBcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQpO1xyXG4gIGNvbnN0IHBsYWNlSXRlbSA9IGNhcmQuY3JlYXRlUGxhY2UoKTtcclxuICByZXR1cm4gcGxhY2VJdGVtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDYXJkKGl0ZW0pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICBhcGkuaW5zZXJ0TmV3Q2FyZChpdGVtKVxyXG4gICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgIGNvbnN0IHBsYWNlSXRlbSA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgICAgIHNlY3Rpb24ucHJlcGVuZEl0ZW0ocGxhY2VJdGVtKTtcclxuICAgICAgcmVzb2x2ZShkYXRhKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZWplY3QoZXJyKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpa2VIYW5kbGVyKGlkLCB1cGRhdGVMaWtlc0NhbGxiYWNrKSB7XHJcbiAgYXBpLnB1dExpa2UoaWQpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgdXBkYXRlTGlrZXNDYWxsYmFjayhyZXMubGlrZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc2xpa2VIYW5kbGVyKGlkLCB1cGRhdGVMaWtlc0NhbGxiYWNrKSB7XHJcbiAgYXBpLmRlbGV0ZUxpa2UoaWQpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgdXBkYXRlTGlrZXNDYWxsYmFjayhyZXMubGlrZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZUNhcmQoaWQpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICBhcGkuZGVsZXRlUGhvdG8oaWQpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJlc29sdmUocmVzKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZWplY3QoZXJyKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoaWQsIGNhcmQpIHtcclxuICBwb3B1cFdpdGhDb25maXJtLm9wZW4oaWQsIGNhcmQsIGRlbGV0ZUNhcmQpO1xyXG59XHJcblxyXG5cclxubGV0IG93bmVySWQgPSBudWxsO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjYvJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnMDVlNTg2Y2UtYzBjOC00ZjE0LWJiZDMtYjI1OWE0NzBlMmI0JyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtpdGVtczogW10sIHJlbmRlcmVyOiAocGxhY2VJdGVtKT0+e1xyXG4gIHNlY3Rpb24uYWRkSXRlbShwbGFjZUl0ZW0pO1xyXG59fSwgZWxlbWVudHNTZWxlY3Rvcik7XHJcblxyXG5cclxuXHJcbmNvbnN0IGdldFVzZXJJbmZvID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgYXBpLmdldFVzZXJJbmZvKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICBvd25lcklkID0gZGF0YS5faWQ7XHJcbiAgICByZXNvbHZlKGRhdGEpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIHJlamVjdChlcnIpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IGdldEluaXRpYWxDYXJkcyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gIGFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChpbml0aWFsQ2FyZHMpID0+IHsgXHJcbiAgICBjb25zdCByZW5kZXJJdGVtcyA9IFtdO1xyXG4gICAgaW5pdGlhbENhcmRzLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgICAgIGNvbnN0IHBsYWNlSXRlbSA9IGNyZWF0ZUNhcmQoY2FyZCk7XHJcbiAgICAgIHJlbmRlckl0ZW1zLnB1c2gocGxhY2VJdGVtKTtcclxuICAgIH0pO1xyXG4gICAgcmVzb2x2ZShyZW5kZXJJdGVtcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgcmVqZWN0KGVycik7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuUHJvbWlzZS5hbGwoW2dldFVzZXJJbmZvLCBnZXRJbml0aWFsQ2FyZHNdKVxyXG4udGhlbigocmVzKSA9PiB7XHJcbiAgY29uc3QgcmVuZGVySXRlbXMgPSByZXNbMV07XHJcbiAgc2VjdGlvbi5yZW5kZXJJdGVtcyhyZW5kZXJJdGVtcyk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBJbWFnZVZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZVZpZXdTZWxlY3Rvcik7XHJcbmNvbnN0IHBvcHVwV2l0aENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybShQb3B1cFdpdGhDb25maXJtU2VsZWN0b3IpOyBcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtuYW1lU2VsZWN0b3I6IHByb2ZpbGVOYW1lU2VsZWN0b3IsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb1NlbGVjdG9yOiBwcm9maWxlVGl0bGVTZWxlY3RvciwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXJTZWxlY3RvcjogcHJvZmlsZUF2YXRhclNlbGVjdG9yfSk7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9yRWRpdFByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGVkaXRQcm9maWxlRm9ybSk7XHJcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRQcm9maWxlU2VsZWN0b3IsIGZvcm1WYWxpZGF0b3JFZGl0UHJvZmlsZSwgc3VibWl0UHJvZmlsZUVkaXQpO1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRWRpdFByb2ZpbGUpO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvckFkZFBsYWNlID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVNldHRpbmdzLCBhZGRQbGFjZUZvcm0pO1xyXG5jb25zdCBwb3B1cEFkZFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGRQbGFjZVNlbGVjdG9yLCBmb3JtVmFsaWRhdG9yQWRkUGxhY2UsIHN1Ym1pdFBsYWNlQWRkaW5nKTtcclxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuQWRkUGxhY2UpO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvckVkaXRBdmF0YXIgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2V0dGluZ3MsIGVkaXRBdmF0YXJGb3JtKTtcclxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0QXZhdGFyU2VsZWN0b3IsIGZvcm1WYWxpZGF0b3JFZGl0QXZhdGFyLCBzdWJtaXRFZGl0QXZhdGFyKTtcclxuYXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRWRpdEF2YXRhcik7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uLFxyXG4gICAgICAnQ29udGVudC1UeXBlJzogb3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7IFxyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5pbmZvXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBpbnNlcnROZXdDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmtcclxuICAgICAgfSkgXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBwdXRMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVBob3RvKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBcclxuICBjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKHJlbmRlcmVkSXRlbXMpIHtcclxuICAgIHRoaXMuX2NsZWFyKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gcmVuZGVyZWRJdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgcHJlcGVuZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBfY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS10ZXh0XCIpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgXHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmRGdW5jdGlvbkJ1bmRpbmcgPSB0aGlzLl9kZWxldGVDYXJkLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3NhdmUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fc2F2ZUJ1dHRvbkRlZmF1bHRUZXh0ID0gdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIG9wZW4oaWQsIGNhcmQsIGFwaUNhbGxiYWNrKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9pZCA9IGlkO1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2RlbGV0ZUNhcmRGdW5jdGlvbkJ1bmRpbmcpO1xyXG4gICAgdGhpcy5fYXBpQ2FsbGJhY2sgPSBhcGlDYWxsYmFjaztcclxuICB9XHJcblxyXG4gIF9kZWxldGVDYXJkKGV2dCkge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc2V0TG9hZGluZ1N0YXR1cyhcImxvYWRpbmdcIik7XHJcbiAgICAgIHRoaXMuX2FwaUNhbGxiYWNrKHRoaXMuX2lkKVxyXG4gICAgICAudGhlbigocmVzKT0+e1xyXG4gICAgICAgIHRoaXMuX2NhcmQuZGVsZXRlSW1hZ2UoKTsgIFxyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpPT57XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB0aGlzLl9zZXRMb2FkaW5nU3RhdHVzKFwiZXJyb3JcIik7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KHJlcyA9PiB7XHJcbiAgICAgICAgdGhpcy5fc2V0TG9hZGluZ1N0YXR1cyhcImRlZmF1bHRcIik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldExvYWRpbmdTdGF0dXMoc3RhdHVzKSB7XHJcbiAgICBpZiAoc3RhdHVzID09PSBcImxvYWRpbmdcIikge1xyXG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCLQo9C00LDQu9C10L3QuNC1Li4uXCI7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3NhdmVCdXR0b25EZWZhdWx0VGV4dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcItCe0YjQuNCx0LrQsFwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fc2V0TG9hZGluZ1N0YXR1cyhcImRlZmF1bHRcIik7XHJcbiAgfVxyXG5cclxuICBfY2xvc2VXaXRob3V0U3VibWl0KGV2dCkge1xyXG4gICAgICBpZiAoc3VwZXIuX2Nsb3NlV2l0aG91dFN1Ym1pdChldnQpKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9kZWxldGVDYXJkRnVuY3Rpb25CdW5kaW5nKTtcclxuICAgICAgfVxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuXHJcbiAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQudHJpbSgpLFxyXG4gICAgICBpbmZvOiB0aGlzLl9pbmZvLnRleHRDb250ZW50LnRyaW0oKVxyXG4gICAgfTtcclxuICAgIHJldHVybiB1c2VyO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oe25hbWUsIGFib3V0LCBhdmF0YXJ9KSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2luZm8udGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==